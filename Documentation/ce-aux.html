<article class="doc" id="doc:_init_exit">
<h1>__init & __exit</h1>
<p>
These two function attributes can be used to run setup functions for listing
your module components for use in program.
<br />
</p>
</article>
<article class="doc" id="doc:constructor_destructor_priority_table">
<h1>constructor & destructor priority table</h1>
<p>
000-100	system implementation functionality
<br />	101-500	auxiliary components 
<br />	110	ce-log.c <span class="func">lprintf</span>, <span class="func">lputs</span> and log_* fncs
<br />	120	ce-arg.c arg_* fncs
<br />	130	ce-mod.c
<br />	501+	other components
</p>
</article>
<article class="doc" id="doc:Logging_introduction_">
<h1>Logging introduction </h1>
<p>
Each line given to log should have a log level prepended to it. Don't use
cryptic numbers for this, but rather given constants.
<br />If extending to a new line will considerably improve readability of given 
log(think formatted data below eachother), prepend each extended line with 
<span class="const">EXT</span>.
<br />
</p>
</article>
<article class="doc" id="doc:Logging_levels">
<h1>Logging levels</h1>
<p>
<span class="const">DBG</span> - information only useful to the programmer
<br /><span class="const">TXT</span> - user input, messages to user
<br /><span class="const">INF</span> - operational info - module (un)loaded and whatnot
<br /><span class="const">WRN</span> - system might not work as user expects
<br /><span class="const">ERR</span> - bug imminent, probable unstability
<br />
</p>
</article>
<article class="function" id="func:lprintf">
<header>
<h1>lprintf</h1><h2>print a formatted message to log</h2>
</header>
<ol class="code">
<li><span class="type">int</span> <span class="identifier">lprintf</span> (</li><li class="indent"><span class="type">const char *</span> <span class="param">format</span>,</li>
<li class="indent"><span class="type"></span> <span class="param">...</span></li>
<li>)</li>
</ol>
<section>
<h1>Arguments</h1>
<p>
<dl>
<dt>format</dt>
<dd>printf-styled format string
</dd>
<dt>...</dt>
<dd>arguments pointed to by <span class="param">format</span>
</dd>
</dl>
</section>
<section>
<h1>Return</h1>
<p>
characters written to log
</p>
</section>
</article>
<article class="function" id="func:lputs">
<header>
<h1>lputs</h1><h2>print a string message to log</h2>
</header>
<ol class="code">
<li><span class="type">int</span> <span class="identifier">lputs</span> (</li><li class="indent"><span class="type">const char *</span> <span class="param">s</span></li>
<li>)</li>
</ol>
<section>
<h1>Arguments</h1>
<p>
<dl>
<dt>s</dt>
<dd>string to log(newline carriage will be appended to this)
</dd>
</dl>
</section>
<section>
<h1>Return</h1>
<p>
characters written to log
</p>
</section>
</article>
<article class="doc" id="doc:Argument_introduction">
<h1>Argument introduction</h1>
<p>
To share arguments between multiple modules, each module that would expect
input arguments, can register a callback function for receiving arguments. 
<br />Any <span class="func">main</span> functions are expected to call <span class="func">arg_push_a</span> to push the arguments
(defined in ce-arg.h).
<br />Unlike conventional arguments passed to <span class="func">main</span>, this system allows for new
arguments to be added at run-time.
<br />To list a callback, use <span class="func">arg_callb_add</span> and to remove it once your module is
being unloaded, <span class="func">arg_callb_rm</span>. These two functions should be called from
functions marked with the attributes <span class="const">__init</span> and <span class="const">__exit</span> respectively. This 
ensures that your module will work as a plug-in and won't horribly crash the
entire program when an argument is passed to a registered function that's 
been since unloaded.
</p>
</article>
<article class="function" id="func:arg_callb_add">
<header>
<h1>arg_callb_add</h1><h2>add a callback to receive the main-like arguments</h2>
</header>
<ol class="code">
<li><span class="type">void</span> <span class="identifier">arg_callb_add</span> (</li><li class="indent"><span class="type">int (*</span> <span class="param">cb</span><span class="type">)</span> (<span class="args">const char *arg, int argsize</span>)</li>
<li>)</li>
</ol>
<section>
<h1>Arguments</h1>
<p>
<dl>
<dt>cb</dt>
<dd>callback that will be called when an argument is received, 
this function should return the amount of arguments
captured(0 if none so the current will also be checked by other
callbacks, 1 if only the given argument was captured, and 2 or 
more if you expected extra arguments and verified them using
<span class="func">arg_peek</span>)
</dd>
</dl>
</section>
</article>
<article class="function" id="func:arg_callb_rm">
<header>
<h1>arg_callb_rm</h1><h2>remove a previously added callback function</h2>
</header>
<ol class="code">
<li><span class="type">int</span> <span class="identifier">arg_callb_rm</span> (</li><li class="indent"><span class="type">int (*</span> <span class="param">cb</span><span class="type">)</span> (<span class="args">const char *, int</span>)</li>
<li>)</li>
</ol>
<section>
<h1>Arguments</h1>
<p>
<dl>
<dt>cb</dt>
<dd>callback to remove
</dd>
</dl>
</section>
<section>
<h1>Return</h1>
<p>
0 on success, any non-zero integer on failure
<br />
1 when such callback is not listed
</p>
</section>
</article>
<article class="function" id="func:arg_peek">
<header>
<h1>arg_peek</h1><h2>peek forward next arguments(for arg callbacks only)</h2>
</header>
<ol class="code">
<li><span class="type">const char *</span> <span class="identifier">arg_peek</span> (</li><li class="indent"><span class="type">int</span> <span class="param">forw</span></li>
<li>)</li>
</ol>
<section>
<h1>Arguments</h1>
<p>
<dl>
<dt>forw</dt>
<dd>how many iterations from current to get the argument from
</dd>
</dl>
</section>
<section>
<h1>Return</h1>
<p>
<span class="const">NULL</span> if there's no argument at current + <span class="param">forw</span>,
argument otherwise
</p>
</section>
</article>
<article class="function" id="func:arg_bool">
<header>
<h1>arg_bool</h1><h2>check given string against a set of acceptable boolean values</h2>
</header>
<ol class="code">
<li><span class="type">int</span> <span class="identifier">arg_bool</span> (</li><li class="indent"><span class="type">const char *</span> <span class="param">arg</span></li>
<li>)</li>
</ol>
<section>
<h1>Arguments</h1>
<p>
<dl>
<dt>arg</dt>
<dd>string to check
</dd>
</dl>
</section>
<section>
<h1>Return</h1>
<p>
1 if <span class="param">arg</span> is "true"-like, 0 if "false"-like or -1 if it its 
yellow or -2 if nothing's passed.
</p>
</section>
</article>
